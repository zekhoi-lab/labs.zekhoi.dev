

@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  /* Custom Login Animations */
  --animate-flicker: flicker 3s infinite;
  --animate-flicker-intense: flicker 0.15s infinite;
  --animate-cursor: cursor .75s step-end infinite;
  --animate-border-pulse: border-pulse 0.2s infinite;
  --animate-glitch-text: glitch-text 0.4s infinite;
  --animate-pulse-fast: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;

  /* Custom Fonts */
  --font-display: var(--font-space-grotesk);
  --font-body: var(--font-noto-sans);
}

.material-symbols-outlined {
  font-family: 'Material Symbols Outlined';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;  /* Preferred icon size */
  display: inline-block;
  line-height: 1;
  text-transform: none;
  letter-spacing: normal;
  word-wrap: normal;
  white-space: nowrap;
  direction: ltr;

  /* Support for all WebKit browsers. */
  -webkit-font-smoothing: antialiased;
  /* Support for Safari and Chrome. */
  text-rendering: optimizeLegibility;

  /* Support for Firefox. */
  -moz-osx-font-smoothing: grayscale;

  /* Support for IE. */
  font-feature-settings: 'liga';
}

.scanlines {
  background: linear-gradient(
    to bottom,
    rgba(255,255,255,0),
    rgba(255,255,255,0) 50%,
    rgba(0,0,0,0.02) 50%,
    rgba(0,0,0,0.02)
  );
  background-size: 100% 4px;
  pointer-events: none;
}

@keyframes flicker {
  0%, 19.999%, 22%, 62.999%, 64%, 64.999%, 70%, 100% { opacity: 1; }
  20%, 21.999%, 63%, 63.999%, 65%, 69.999% { opacity: 0.4; }
}

@keyframes cursor {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

@keyframes border-pulse {
  0%, 100% { border-color: #ef4444; }
  50% { border-color: #b91c1c; }
}

@keyframes glitch-text {
  0% { transform: translate(0); }
  20% { transform: translate(-2px, 2px); }
  40% { transform: translate(-2px, -2px); }
  60% { transform: translate(2px, 2px); }
  80% { transform: translate(2px, -2px); }
  100% { transform: translate(0); }
}

@keyframes glitch-1 {
  0% { clip-path: inset(20% 0 80% 0); }
  20% { clip-path: inset(60% 0 1% 0); }
  40% { clip-path: inset(40% 0 50% 0); }
  60% { clip-path: inset(80% 0 5% 0); }
  80% { clip-path: inset(10% 0 70% 0); }
  100% { clip-path: inset(30% 0 50% 0); }
}

@keyframes glitch-2 {
  0% { clip-path: inset(10% 0 60% 0); }
  20% { clip-path: inset(30% 0 20% 0); }
  40% { clip-path: inset(70% 0 10% 0); }
  60% { clip-path: inset(50% 0 30% 0); }
  80% { clip-path: inset(20% 0 50% 0); }
  100% { clip-path: inset(40% 0 80% 0); }
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
    background-image: radial-gradient(#e5e7eb 1px, transparent 1px);
    background-size: 24px 24px;
  }
  .dark body {
    background-image: radial-gradient(#333 1px, transparent 1px);
  }
}

/* Dashboard Fragment Card */
.fragment-card {
  position: relative;
  transition: transform 0.2s ease;
}

.fragment-card::before,
.fragment-card::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: 1px solid transparent;
  pointer-events: none;
  transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);
  z-index: -1;
}

.fragment-card:hover {
  transform: translate(-2px, -2px);
}

.fragment-card:hover::before {
  border-color: rgba(0,0,0,0.3);
  transform: translate(4px, 4px);
}

.fragment-card:hover::after {
  border-color: rgba(0,0,0,0.1);
  transform: translate(8px, 8px);
}

.dark .fragment-card:hover::before {
  border-color: rgba(255,255,255,0.3);
  transform: translate(4px, 4px);
}

.dark .fragment-card:hover::after {
  border-color: rgba(255,255,255,0.1);
}

.dark .fragment-border::after {
  border-color: #fff;
}

/* Markdown Preview Styles */
.markdown-preview h1 {
  @apply text-2xl font-bold mb-4 border-b border-black dark:border-white pb-2;
}
.markdown-preview h2 {
  @apply text-xl font-bold mb-3 mt-6;
}
.markdown-preview h3 {
  @apply text-lg font-bold mb-2 mt-4;
}
.markdown-preview p {
  @apply mb-4 leading-relaxed;
}
.markdown-preview ul {
  @apply list-disc list-inside mb-4;
}
.markdown-preview ol {
  @apply list-decimal list-inside mb-4;
}
.markdown-preview code {
  @apply bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded-sm text-sm font-mono;
}
.markdown-preview pre {
  @apply bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 p-4 mb-4 overflow-x-auto;
}
.markdown-preview pre code {
  @apply bg-transparent p-0 block;
}
.markdown-preview blockquote {
  @apply border-l-4 border-black dark:border-white pl-4 italic mb-4 text-gray-600 dark:text-gray-400;
}
.markdown-preview a {
  @apply underline hover:text-blue-600 dark:hover:text-blue-400;
}
.markdown-preview img {
  @apply max-w-full h-auto my-4 border border-black dark:border-white;
}
.markdown-preview hr {
  @apply my-6 border-black dark:border-white;
}

/* Error Page Glitch Wrapper (404) */
.glitch-wrapper {
  position: relative;
}
.glitch-wrapper::before,
.glitch-wrapper::after {
  content: "404";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0.8;
}
.glitch-wrapper::before {
  color: #ff0000;
  z-index: -1;
  clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
  transform: translate(-2px, -2px);
  animation: flicker 2s infinite linear alternate-reverse;
}
.glitch-wrapper::after {
  color: #0000ff;
  z-index: -2;
  clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
  transform: translate(2px, 2px);
  animation: flicker 2s infinite linear alternate-reverse;
}

/* Error Page Glitch Text (500) */
.glitch-text {
  position: relative;
}
.glitch-text::before,
.glitch-text::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #fff;
}
.dark .glitch-text::before,
.dark .glitch-text::after {
  background: #000;
}
.glitch-text::before {
  left: 2px;
  text-shadow: -1px 0 #000;
  animation: glitch-1 2s infinite linear alternate-reverse;
}
.dark .glitch-text::before {
  text-shadow: -1px 0 #fff;
}
.glitch-text::after {
  left: -2px;
  text-shadow: -1px 0 #999; 
  animation: glitch-2 3s infinite linear alternate-reverse;
}
/* Secrets Page Button */
.fragment-btn {
  position: relative;
  transition: transform 0.2s ease;
}
.fragment-btn::before,
.fragment-btn::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: 1px solid transparent;
  pointer-events: none;
  transition: all 0.2s cubic-bezier(0.25, 1, 0.5, 1);
  z-index: -1;
}
.fragment-btn:hover {
  transform: translate(-1px, -1px);
}
.fragment-btn:hover::before {
  border-color: rgba(0,0,0,0.5);
  transform: translate(2px, 2px);
}
.fragment-btn:hover::after {
  border-color: rgba(0,0,0,0.2);
  transform: translate(4px, 4px);
}
.dark .fragment-btn:hover::before {
  border-color: rgba(255,255,255,0.5);
}
.dark .fragment-btn:hover::after {
  border-color: rgba(255,255,255,0.2);
}

/* Secrets Page Glitch */
.glitch-text-anim {
  position: relative;
}
.glitch-text-anim::before,
.glitch-text-anim::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0.8;
}
.glitch-text-anim::before {
  color: #ff0000;
  z-index: -1;
  clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
  animation: glitch-anim-1 2.5s infinite linear alternate-reverse;
}
.glitch-text-anim::after {
  color: #00ff00;
  z-index: -2;
  clip-path: polygon(0 60%, 100% 60%, 100% 100%, 0 100%);
  animation: glitch-anim-2 2s infinite linear alternate-reverse;
}

@keyframes glitch-anim-1 {
  0% { transform: translate(0) }
  20% { transform: translate(-2px, 2px) }
  40% { transform: translate(-2px, -2px) }
  60% { transform: translate(2px, 2px) }
  80% { transform: translate(2px, -2px) }
  100% { transform: translate(0) }
}
@keyframes glitch-anim-2 {
  0% { transform: translate(0) }
  20% { transform: translate(2px, -2px) }
  40% { transform: translate(2px, 2px) }
  60% { transform: translate(-2px, -2px) }
  80% { transform: translate(-2px, 2px) }
  100% { transform: translate(0) }
}